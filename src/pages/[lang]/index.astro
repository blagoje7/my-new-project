---
import Layout from '../../layouts/Layout.astro';
import WelcomeSection from '../../components/WelcomeSection.astro';
import ApproachSection from '../../components/ApproachSection.astro';
import TherapyInfo from '../../components/TherapyInfo.astro';
import TherapyProcess from '../../components/TherapyProcess.astro';
import ContactCTA from '../../components/ContactCTA.astro';

import { useTranslations, languages } from '../../i18n/utils';

export function getStaticPaths() {
    return Object.keys(languages).map(lang => ({
        params: { lang }
    }));
}

const { lang } = Astro.params;
const t = useTranslations(lang as keyof typeof languages);
---

<Layout title={`Dr Tamara Medovarski - ${t('nav.home')}`} lang={lang as keyof typeof languages}>
    <div class="container">
        <WelcomeSection lang={lang as keyof typeof languages} />
        <ApproachSection lang={lang as keyof typeof languages} />
        <TherapyInfo lang={lang as keyof typeof languages} />
        <TherapyProcess lang={lang as keyof typeof languages} />
        <ContactCTA lang={lang as keyof typeof languages} />
    </div>
</Layout>

<style>
    .container {
        width: 100%;
        max-width: 800px;
        margin: 0 auto;
        padding: 1rem;
    }

    :global(section) {
        margin: 2rem 0;
        scroll-margin-top: 2rem;
    }
</style>